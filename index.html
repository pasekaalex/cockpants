<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SpongeSpin - Pump $COCKPANTS or Rip Your Portfolio</title>
  <meta name="description" content="Spin SpongeBob eternally and join the $COCKPANTS revolution. CA: 516h3AJBX72YZvEGDJWsUaGePuub53kLVKH2NWeHpump">
  <style>
    @font-face {
      font-family: 'Krabby Patty';
      src: url('Krabby Patty.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      min-height: 100vh; 
      display: flex;
      flex-direction: column;
      justify-content: flex-start; 
      align-items: center;
      padding-top: 20px; 
      background: linear-gradient(45deg, #000000, #1a1a2e, #000000);
      background-size: 400% 400%;
      animation: gradient 15s ease infinite;
      overflow: hidden; 
      font-family: 'Comic Sans MS', cursive, sans-serif; 
      color: lime; 
      position: relative;
      cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><text y="24" font-size="24">ü©≤</text></svg>'), auto;
    }
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 50%, rgba(255, 255, 0, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(0, 255, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 20%, rgba(255, 0, 255, 0.1) 0%, transparent 50%);
      z-index: 1;
      animation: pulse 10s ease infinite;
    }
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    @keyframes pulse {
      0%, 100% { opacity: 0.5; }
      50% { opacity: 0.8; }
    }
    body > * {
      position: relative;
      z-index: 2;
    }
    @keyframes gradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .banner {
      width: 100%;
      max-width: 800px;
      margin-bottom: 20px;
      z-index: 10;
    }
    .banner img {
      width: 100%;
      height: auto;
      animation: none;
      filter: drop-shadow(0 0 20px #00ffff);
    }
    .spinner-container {
      position: relative;
      z-index: 5;
      margin: 40px 0;
    }
    img { 
      width: min(500px, 80vw); 
      height: auto;
      animation: spin 4s linear infinite; 
      filter: drop-shadow(0 0 30px #ffff00);
      transition: transform 0.1s ease-out, filter 0.2s ease;
      transform-origin: center;
    }
    img.pumping {
      filter: drop-shadow(0 0 50px #ffff00) drop-shadow(0 0 80px #ff0000);
    }
    @keyframes spin { 
      100% { transform: rotate(360deg); } 
    }
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-10px); }
      75% { transform: translateX(10px); }
    }
    body.shake {
      animation: shake 0.3s ease;
    }
    .warning { 
      position: relative;
      margin: 20px 0;
      color: yellow; 
      font-size: clamp(16px, 4vw, 24px); 
      text-align: center; 
      text-shadow: 3px 3px 6px black, 0 0 10px #ffff00;
      animation: blink 1s infinite;
      z-index: 100;
      max-width: 90vw;
      font-family: 'Krabby Patty', 'Comic Sans MS', cursive;
      letter-spacing: 2px;
    }
    @keyframes blink {
      0%, 50%, 100% { opacity: 1; }
      25%, 75% { opacity: 0.5; }
    }
    .counter { 
      position: absolute; 
      bottom: 20px; 
      left: 50%;
      transform: translateX(-50%);
      font-size: clamp(24px, 6vw, 48px); 
      text-align: center; 
      color: #00ff00;
      text-shadow: 3px 3px 10px black, 0 0 20px #00ff00;
      z-index: 100;
      max-width: 90vw;
      font-family: 'Krabby Patty', 'Comic Sans MS', cursive;
      letter-spacing: 1px;
    }
    .combo {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: clamp(50px, 10vw, 80px);
      color: #ff00ff;
      text-shadow: 0 0 30px #ff00ff, 0 0 60px #ff00ff, 4px 4px 10px black;
      opacity: 0;
      pointer-events: none;
      z-index: 150;
      font-weight: bold;
      transition: opacity 0.3s ease, transform 0.3s ease;
      font-family: 'Krabby Patty', 'Comic Sans MS', cursive;
      letter-spacing: 3px;
    }
    .combo.show {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1.5);
    }
    
    /* Particle effects */
    .particle {
      position: fixed;
      width: 20px;
      height: 20px;
      background: #ffff00;
      border-radius: 50%;
      pointer-events: none;
      z-index: 500;
      animation: particleFly 1s ease-out forwards;
    }
    @keyframes particleFly {
      0% {
        transform: translate(0, 0) scale(1);
        opacity: 1;
      }
      100% {
        transform: translate(var(--tx), var(--ty)) scale(0);
        opacity: 0;
      }
    }
    
    /* Score multiplier display */
    .multiplier {
      position: fixed;
      top: 120px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 40px;
      color: #ff00ff;
      text-shadow: 0 0 20px #ff00ff;
      z-index: 150;
      font-family: 'Krabby Patty', 'Comic Sans MS', cursive;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .multiplier.active {
      opacity: 1;
    }
    
    /* Click streak indicator */
    .streak-bar {
      position: fixed;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      width: 300px;
      height: 20px;
      background: rgba(0, 0, 0, 0.5);
      border-radius: 10px;
      border: 2px solid #ffd700;
      z-index: 150;
      overflow: hidden;
    }
    .streak-fill {
      height: 100%;
      background: linear-gradient(90deg, #ff0000, #ff00ff, #00ffff);
      width: 0%;
      transition: width 0.2s ease;
      box-shadow: 0 0 10px rgba(255, 0, 255, 0.8);
    }
    
    /* Achievement notification */
    .achievement {
      position: fixed;
      top: -150px;
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(135deg, #ffd700, #ffed4e);
      color: black;
      padding: 20px 30px;
      border-radius: 15px;
      box-shadow: 0 8px 25px rgba(255, 215, 0, 0.8);
      z-index: 9999;
      font-family: 'Krabby Patty', 'Comic Sans MS', cursive;
      text-align: center;
      transition: top 0.5s ease;
      border: 3px solid #ff0000;
    }
    .achievement.show {
      top: 80px;
    }
    .achievement-title {
      font-size: 24px;
      color: #ff0000;
      margin-bottom: 5px;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }
    .achievement-desc {
      font-size: 16px;
      color: #000;
    }
    
    /* Achievement list in sidebar */
    .achievement-list {
      max-height: 200px;
      overflow-y: auto;
    }
    .achievement-item {
      padding: 8px;
      margin: 5px 0;
      background: rgba(255, 215, 0, 0.1);
      border-radius: 5px;
      border-left: 3px solid #00ff00;
      font-size: 13px;
    }
    .achievement-item.locked {
      opacity: 0.5;
      border-left-color: #666;
    }
    
    /* SpongeBob reaction text */
    .spongebob-text {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -120px);
      font-size: 28px;
      color: #ffff00;
      text-shadow: 3px 3px 6px black, 0 0 20px #ffff00;
      z-index: 140;
      font-family: 'Krabby Patty', 'Comic Sans MS', cursive;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.3s ease;
      text-align: center;
      max-width: 80%;
    }
    .spongebob-text.show {
      opacity: 1;
    }
    
    /* Reaction image on side */
    .reaction-image {
      position: fixed;
      right: -300px;
      top: 50%;
      transform: translateY(-50%);
      width: 250px;
      height: auto;
      z-index: 300;
      transition: right 0.4s ease;
      filter: drop-shadow(0 0 20px #ffff00);
      border-radius: 15px;
      border: 3px solid #ffd700;
    }
    .reaction-image.show {
      right: 20px;
    }
    
    /* STROKE MODE effects */
    body.stroke-mode {
      animation: shake 0.1s infinite, gradientShift 2s ease infinite;
    }
    body.stroke-mode::before {
      animation: pulse 0.5s ease infinite;
      background: 
        radial-gradient(circle at 20% 50%, rgba(255, 0, 0, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(255, 0, 255, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 40% 20%, rgba(255, 255, 0, 0.3) 0%, transparent 50%);
    }
    .stroke-mode-banner {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: clamp(60px, 15vw, 120px);
      color: #ff0000;
      text-shadow: 0 0 40px #ff0000, 0 0 80px #ff0000, 5px 5px 10px black;
      z-index: 9998;
      font-family: 'Krabby Patty', 'Comic Sans MS', cursive;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.5s ease;
      letter-spacing: 5px;
      animation: strokePulse 0.5s ease infinite;
    }
    .stroke-mode-banner.active {
      opacity: 1;
    }
    @keyframes strokePulse {
      0%, 100% { transform: translate(-50%, -50%) scale(1); }
      50% { transform: translate(-50%, -50%) scale(1.1); }
    }
    body.stroke-mode .particle {
      animation: particleFly 0.5s ease-out forwards;
    }
    body.stroke-mode .spinner-container img {
      animation: spin 1s linear infinite, strokeSpin 0.5s ease infinite;
      filter: drop-shadow(0 0 50px #ff0000) drop-shadow(0 0 100px #ff00ff) brightness(1.3) contrast(1.2);
    }
    @keyframes strokeSpin {
      0%, 100% { transform: scale(1.2) rotate(0deg); }
      50% { transform: scale(1.5) rotate(180deg); }
    }
    .shill { 
      position: absolute; 
      right: 10px; 
      top: 60px; 
      background: linear-gradient(135deg, #ffd700, #ffed4e);
      color: black; 
      padding: 15px; 
      border-radius: 15px; 
      text-align: center; 
      font-size: clamp(11px, 2.5vw, 15px); 
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.5);
      max-width: min(250px, 40vw);
      z-index: 100;
      font-family: 'Krabby Patty', 'Comic Sans MS', cursive;
    }
    .shill strong { 
      font-size: clamp(16px, 3.5vw, 20px); 
      display: block; 
      margin-bottom: 8px;
      color: #ff0000;
      letter-spacing: 2px;
    }
    .shill a { 
      color: #0066cc; 
      text-decoration: none; 
      display: block;
      margin: 5px 0;
      word-break: break-all;
    }
    .shill a:hover { text-decoration: underline; }
    .shill button { 
      background: linear-gradient(135deg, #ff0000, #cc0000);
      color: white; 
      border: none; 
      padding: 10px 15px; 
      cursor: pointer; 
      border-radius: 8px;
      font-weight: bold;
      margin-top: 10px;
      font-size: clamp(10px, 2.5vw, 14px);
      box-shadow: 0 2px 10px rgba(255, 0, 0, 0.5);
      transition: transform 0.2s;
    }
    .shill button:hover { transform: scale(1.05); }
    .market-cap { 
      position: absolute; 
      left: 10px; 
      top: 60px; 
      font-size: clamp(13px, 3vw, 19px); 
      color: gold; 
      text-shadow: 3px 3px 6px black, 0 0 15px gold;
      background: rgba(0, 0, 0, 0.7);
      padding: 10px;
      border-radius: 10px;
      z-index: 100;
      max-width: min(250px, 40vw);
      font-family: 'Krabby Patty', 'Comic Sans MS', cursive;
    }
    .flash { 
      position: fixed; 
      top: 50%; 
      left: 50%; 
      transform: translate(-50%, -50%); 
      font-size: clamp(50px, 12vw, 100px); 
      color: red; 
      opacity: 0; 
      transition: opacity 0.5s; 
      z-index: 200;
      text-shadow: 5px 5px 10px black, 0 0 30px red;
      pointer-events: none;
      font-family: 'Krabby Patty', 'Comic Sans MS', cursive;
      letter-spacing: 3px;
    }
    
    /* Sidebar styles */
    .sidebar-toggle {
      position: fixed;
      right: 0;
      top: 50%;
      transform: translateY(-50%);
      background: linear-gradient(135deg, #ffd700, #ffed4e);
      color: black;
      padding: 15px 10px;
      border-radius: 10px 0 0 10px;
      cursor: pointer;
      z-index: 1000;
      font-family: 'Krabby Patty', 'Comic Sans MS', cursive;
      font-size: 20px;
      box-shadow: -3px 0 15px rgba(255, 215, 0, 0.5);
      transition: all 0.3s ease;
      writing-mode: vertical-rl;
      text-orientation: mixed;
    }
    .sidebar-toggle:hover {
      background: linear-gradient(135deg, #ffed4e, #ffd700);
      transform: translateY(-50%) translateX(-5px);
    }
    .sidebar {
      position: fixed;
      right: -350px;
      top: 0;
      width: 350px;
      height: 100vh;
      background: linear-gradient(180deg, #1a1a2e 0%, #0f0f1e 100%);
      box-shadow: -5px 0 20px rgba(0, 0, 0, 0.8);
      z-index: 999;
      transition: right 0.4s ease;
      overflow-y: auto;
      padding: 30px 20px;
      font-family: Arial, Helvetica, sans-serif;
    }
    .sidebar.open {
      right: 0;
    }
    .sidebar-header {
      color: #ffd700;
      font-size: 28px;
      margin-bottom: 20px;
      text-align: center;
      text-shadow: 0 0 10px #ffd700;
      letter-spacing: 2px;
    }
    .sidebar-section {
      margin-bottom: 25px;
      padding: 15px;
      background: rgba(255, 215, 0, 0.1);
      border-radius: 10px;
      border: 2px solid rgba(255, 215, 0, 0.3);
    }
    .sidebar-section h3 {
      color: #00ff00;
      font-size: 18px;
      margin-bottom: 12px;
      text-shadow: 0 0 10px #00ff00;
    }
    .sidebar-section p {
      color: #ffffff;
      font-size: 14px;
      line-height: 1.6;
      word-break: break-all;
      margin: 8px 0;
    }
    .sidebar-links {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .sidebar-links a {
      display: block;
      padding: 12px 15px;
      background: linear-gradient(135deg, #ff0000, #cc0000);
      color: white;
      text-decoration: none;
      border-radius: 8px;
      text-align: center;
      font-size: 16px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(255, 0, 0, 0.3);
    }
    .sidebar-links a:hover {
      background: linear-gradient(135deg, #ff3333, #ff0000);
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(255, 0, 0, 0.5);
    }
    .sidebar-links a.twitter {
      background: linear-gradient(135deg, #1da1f2, #0d8bd9);
    }
    .sidebar-links a.twitter:hover {
      background: linear-gradient(135deg, #33aef5, #1da1f2);
    }
    .sidebar-links a.dex {
      background: linear-gradient(135deg, #9945ff, #7a2ecc);
    }
    .sidebar-links a.dex:hover {
      background: linear-gradient(135deg, #b366ff, #9945ff);
    }
    .sidebar-links a.jupiter {
      background: linear-gradient(135deg, #00d4ff, #0099cc);
    }
    .sidebar-links a.jupiter:hover {
      background: linear-gradient(135deg, #33ddff, #00d4ff);
    }
    .close-sidebar {
      position: absolute;
      top: 15px;
      right: 15px;
      background: rgba(255, 0, 0, 0.8);
      color: white;
      border: none;
      width: 35px;
      height: 35px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 20px;
      font-weight: bold;
      transition: all 0.3s ease;
    }
    .close-sidebar:hover {
      background: rgba(255, 0, 0, 1);
      transform: rotate(90deg);
    }
    @media (max-width: 768px) {
      body {
        font-family: 'Krabby Patty', Arial, Helvetica, sans-serif;
      }
      .banner img {
        font-family: 'Krabby Patty', Arial, Helvetica, sans-serif;
      }
      .warning {
        font-family: 'Krabby Patty', Arial, Helvetica, sans-serif;
      }
      .counter {
        font-family: 'Krabby Patty', Arial, Helvetica, sans-serif;
        bottom: 20px;
      }
      .combo {
        font-family: 'Krabby Patty', Arial, Helvetica, sans-serif;
      }
      .flash {
        font-family: 'Krabby Patty', Arial, Helvetica, sans-serif;
      }
      .sidebar {
        width: 90%;
        right: -90%;
        font-family: 'Krabby Patty', Arial, Helvetica, sans-serif;
      }
      .sidebar-toggle {
        display: block;
        font-size: 16px;
        padding: 12px 8px;
        font-family: 'Krabby Patty', Arial, Helvetica, sans-serif;
      }
      .streak-bar {
        width: 90%;
        top: 15px;
      }
      .reaction-image {
        width: 150px;
        right: -200px;
      }
      .reaction-image.show {
        right: 10px;
      }
    }
    @media (min-width: 769px) {
      .mobile-info {
        display: none;
      }
    }
  </style>
</head>
<body>
  <div class="banner">
    <img src="https://i.imgur.com/CzRu9jK.gif" alt="$COCKPANTS Banner">
  </div>

  <!-- Sidebar Toggle Button (Desktop only) -->
  <div class="sidebar-toggle" onclick="toggleSidebar()">INFO üìä</div>

  <!-- Sidebar (Desktop only) -->
  <div class="sidebar" id="sidebar">
    <button class="close-sidebar" onclick="toggleSidebar()">‚úï</button>
    
    <div class="sidebar-header">$COCKPANTS</div>
    
    <div class="sidebar-section">
      <h3>üí∞ Market Cap</h3>
      <p id="mcap-sidebar">Loading...</p>
    </div>
    
    <div class="sidebar-section">
      <h3>üìù Contract Address</h3>
      <p style="font-size: 12px;">516h3AJBX72YZvEGDJWsUaGePuub53kLVKH2NWeHpump</p>
    </div>
    
    <div class="sidebar-section">
      <h3>üîó Quick Links</h3>
      <div class="sidebar-links">
        <a href="https://x.com/CockPants_sol" target="_blank" class="twitter">üê¶ Follow @CockPants_sol</a>
        <a href="https://dexscreener.com/solana/5Eh94i7aEtA8t21f1HbZoDgrtTTZcQq9nbEpFMAFShsg" target="_blank" class="dex">üìä View on DexScreener</a>
        <a href="https://jup.ag/swap?sell=So11111111111111111111111111111111111111112&buy=516h3AJBX72YZvEGDJWsUaGePuub53kLVKH2NWeHpump" target="_blank" class="jupiter">üöÄ Trade on Jupiter</a>
        <a href="https://x.com/i/communities/1991679244938682496" target="_blank" class="twitter">üè∞ Weenie Hut Jr.'s Community</a>
      </div>
    </div>
    
    <div class="sidebar-section">
      <h3>üèÜ Achievements</h3>
      <div class="achievement-list" id="achievementList"></div>
    </div>
  </div>

  <!-- Achievement Notification -->
  <div class="achievement" id="achievementNotif">
    <div class="achievement-title" id="achievementTitle">üèÜ ACHIEVEMENT UNLOCKED!</div>
    <div class="achievement-desc" id="achievementDesc">Description</div>
  </div>

  <!-- Game UI Elements -->
  <div class="streak-bar">
    <div class="streak-fill" id="streakFill"></div>
  </div>
  <div class="multiplier" id="multiplier">1x</div>
  <div class="spongebob-text" id="spongebobText">I'M READY!</div>
  <div class="stroke-mode-banner" id="strokeBanner">üî• STROKE MODE üî•</div>
  <img class="reaction-image" id="reactionImage" src="" alt="SpongeBob Reaction">

  <div class="warning">‚ö†Ô∏è YOU ARE THE 9,999,999th VISITOR TO BIKINI BOTTOM!!! CLICK TO PUMP $COCKPANTS ‚ö†Ô∏è</div>
  
  <div class="spinner-container">
    <img src="https://i.imgur.com/T1W4AZd.jpeg" alt="Spinning SpongeBob ‚Äì R.I.P. Pants" id="spinner">
  </div>
  
  <div class="counter">You pumped $COCKPANTS <br><span id="count">0</span> times! ü©≤</div>
  <div class="combo" id="combo">COMBO!</div>
  <div class="flash" id="flash">MY PANTS! ü©≤üí•</div>

  <script>
    const CA = '516h3AJBX72YZvEGDJWsUaGePuub53kLVKH2NWeHpump';
    const API_URL = `https://api.dexscreener.com/latest/dex/tokens/${CA}`;
    
    let count = 0; // Reset counter on refresh
    document.getElementById('count').innerText = count;
    
    let mcapInterval;
    let clickCombo = 0;
    let comboTimer = null;
    let scaleLevel = 1;
    let scaleTimer = null;
    let multiplier = 1;
    const spinner = document.getElementById('spinner');
    const comboDisplay = document.getElementById('combo');
    const multiplierDisplay = document.getElementById('multiplier');
    const streakFill = document.getElementById('streakFill');
    const spongebobText = document.getElementById('spongebobText');
    const reactionImage = document.getElementById('reactionImage');
    
    // Achievement system
    const achievements = [
      { id: 'first_pump', name: 'First Pump', desc: 'Click once', threshold: 1, unlocked: false },
      { id: 'getting_started', name: 'Getting Started', desc: 'Reach 10 pumps', threshold: 10, unlocked: false },
      { id: 'pump_rookie', name: 'Pump Rookie', desc: 'Reach 50 pumps', threshold: 50, unlocked: false },
      { id: 'century_club', name: 'Century Club', desc: 'Reach 100 pumps', threshold: 100, unlocked: false },
      { id: 'pump_veteran', name: 'Pump Veteran', desc: 'Reach 500 pumps', threshold: 500, unlocked: false },
      { id: 'pump_master', name: 'Pump Master', desc: 'Reach 1000 pumps', threshold: 1000, unlocked: false },
      { id: 'combo_starter', name: 'Combo Starter', desc: 'Reach 5x combo', threshold: 5, type: 'combo', unlocked: false },
      { id: 'combo_king', name: 'Combo King', desc: 'Reach 10x combo', threshold: 10, type: 'combo', unlocked: false },
      { id: 'combo_god', name: 'Combo God', desc: 'Reach 30x combo', threshold: 30, type: 'combo', unlocked: false },
      { id: 'speed_demon', name: 'Speed Demon', desc: 'Reach 50x combo', threshold: 50, type: 'combo', unlocked: false }
    ];
    
    let highestCombo = 0;
    
    // SpongeBob reactions based on state - more frequent triggers
    const reactions = [
      { min: 0, max: 19, texts: ["I'm ready!", "Aye aye captain!", "ü©≤"], image: "https://i.imgur.com/wVgBk6t.jpeg" },
      { min: 20, max: 49, texts: ["F is for fire!", "The inner machinations...", "FIRMLY GRASP IT!"], image: "https://i.imgur.com/9KJ3jAQ.jpeg" },
      { min: 50, max: 99, texts: ["I NEED IT!", "MY LEG!", "Technique! Technique!"], image: "https://i.imgur.com/vaKsAXk.jpeg" },
      { min: 100, max: 199, texts: ["IMAGINATION! ‚ú®", "Soaking up the sun! ‚òÄÔ∏è", "I'm ugly and I'm proud!"], image: "https://i.imgur.com/wVgBk6t.jpeg" },
      { min: 200, max: 499, texts: ["Is mayonnaise an instrument?", "The Krusty Krab pizza!", "CHOCOLATE!"], image: "https://i.imgur.com/9KJ3jAQ.jpeg" },
      { min: 500, max: 9999, texts: ["I'M A GOOFY GOOBER!", "SWEET VICTORY! üé∏", "KRAKATOA! üåã"], image: "https://i.imgur.com/vaKsAXk.jpeg" }
    ];
    
    let reactionTimer = null;
    let strokeModeActive = false;
    let strokeModeTimer = null;
    
    function updateMarketCap() {
      fetch(API_URL)
        .then(res => res.json())
        .then(data => {
          if (data.pairs && data.pairs.length > 0) {
            const pair = data.pairs[0];
            const mcap = pair.marketCap;
            const price = pair.priceUsd;
            if (mcap) {
              const mcapText = `${Number(mcap).toLocaleString()}`;
              const priceText = `Price: ${price || 'N/A'}`;
              document.getElementById('mcap-sidebar').innerHTML = `<strong>${mcapText}</strong><br><span style="font-size: 12px; color: #aaa;">${priceText}</span>`;
            } else {
              document.getElementById('mcap-sidebar').innerText = 'Loading...';
            }
          } else {
            document.getElementById('mcap-sidebar').innerText = 'Check DexScreener';
          }
        })
        .catch(() => {
          document.getElementById('mcap-sidebar').innerText = 'Loading...';
        });
    }
    
    updateMarketCap();
    mcapInterval = setInterval(updateMarketCap, 10000);
    
    function toggleSidebar() {
      document.getElementById('sidebar').classList.toggle('open');
    }
    
    function updateAchievementDisplay() {
      const list = document.getElementById('achievementList');
      list.innerHTML = achievements.map(ach => 
        `<div class="achievement-item ${ach.unlocked ? '' : 'locked'}">
          ${ach.unlocked ? '‚úÖ' : 'üîí'} ${ach.name}<br>
          <span style="font-size: 11px; opacity: 0.8;">${ach.desc}</span>
        </div>`
      ).join('');
    }
    
    function checkAchievements() {
      achievements.forEach(ach => {
        if (!ach.unlocked) {
          const value = ach.type === 'combo' ? clickCombo : count;
          if (value >= ach.threshold) {
            ach.unlocked = true;
            showAchievement(ach.name, ach.desc);
            updateAchievementDisplay();
          }
        }
      });
      
      if (clickCombo > highestCombo) {
        highestCombo = clickCombo;
      }
    }
    
    function showAchievement(title, desc) {
      const notif = document.getElementById('achievementNotif');
      document.getElementById('achievementTitle').textContent = 'üèÜ ' + title.toUpperCase() + '!';
      document.getElementById('achievementDesc').textContent = desc;
      notif.classList.add('show');
      setTimeout(() => notif.classList.remove('show'), 3000);
    }
    
    function showSpongebobReaction() {
      const reaction = reactions.find(r => count >= r.min && count <= r.max);
      if (reaction) {
        const randomText = reaction.texts[Math.floor(Math.random() * reaction.texts.length)];
        spongebobText.textContent = randomText;
        spongebobText.classList.add('show');
        
        // Show reaction image on side
        if (reaction.image) {
          reactionImage.src = reaction.image;
          reactionImage.classList.add('show');
          
          // Hide after 1.5 seconds
          setTimeout(() => {
            reactionImage.classList.remove('show');
          }, 1500);
        }
        
        setTimeout(() => spongebobText.classList.remove('show'), 2000);
      }
    }
    
    function activateStrokeMode() {
      strokeModeActive = true;
      document.body.classList.add('stroke-mode');
      document.getElementById('strokeBanner').classList.add('active');
      
      // More intense particles
      const interval = setInterval(() => {
        if (!strokeModeActive) {
          clearInterval(interval);
          return;
        }
        for (let i = 0; i < 5; i++) {
          const x = Math.random() * window.innerWidth;
          const y = Math.random() * window.innerHeight;
          createParticle(x, y);
        }
      }, 100);
      
      // Auto-deactivate after combo ends
      clearTimeout(strokeModeTimer);
      strokeModeTimer = setTimeout(() => {
        deactivateStrokeMode();
      }, 3000);
    }
    
    function deactivateStrokeMode() {
      strokeModeActive = false;
      document.body.classList.remove('stroke-mode');
      document.getElementById('strokeBanner').classList.remove('active');
    }
    
    // Initialize achievements display
    updateAchievementDisplay();
    
    function createParticle(x, y) {
      const particle = document.createElement('div');
      particle.className = 'particle';
      particle.style.left = x + 'px';
      particle.style.top = y + 'px';
      
      const tx = (Math.random() - 0.5) * 200;
      const ty = (Math.random() - 0.5) * 200 - 100;
      particle.style.setProperty('--tx', tx + 'px');
      particle.style.setProperty('--ty', ty + 'px');
      
      const colors = ['#ffff00', '#ff00ff', '#00ffff', '#ff0000'];
      particle.style.background = colors[Math.floor(Math.random() * colors.length)];
      
      document.body.appendChild(particle);
      setTimeout(() => particle.remove(), 1000);
    }
    
    function updateMultiplier() {
      if (clickCombo >= 30) {
        multiplier = 5;
      } else if (clickCombo >= 20) {
        multiplier = 4;
      } else if (clickCombo >= 10) {
        multiplier = 3;
      } else if (clickCombo >= 5) {
        multiplier = 2;
      } else {
        multiplier = 1;
      }
      
      multiplierDisplay.textContent = `${multiplier}x`;
      multiplierDisplay.className = 'multiplier' + (multiplier > 1 ? ' active' : '');
      
      // Update streak bar
      const streakPercent = Math.min((clickCombo / 30) * 100, 100);
      streakFill.style.width = streakPercent + '%';
    }
    
    document.body.onclick = (e) => {
      if (e.target.tagName !== 'A' && e.target.tagName !== 'BUTTON') {
        count += multiplier;
        clickCombo++;
        document.getElementById("count").innerText = count;
        
        // Check achievements
        checkAchievements();
        
        // Show SpongeBob reaction every 5 pumps (more frequent)
        if (count % 5 === 0) {
          showSpongebobReaction();
        }
        
        // Create particles at click location
        for (let i = 0; i < 3; i++) {
          setTimeout(() => createParticle(e.clientX, e.clientY), i * 50);
        }
        
        // Scale up effect
        scaleLevel = Math.min(scaleLevel + 0.15, 2.5);
        spinner.style.transform = `scale(${scaleLevel})`;
        spinner.classList.add('pumping');
        
        // Update multiplier and streak
        updateMultiplier();
        
        // Reset scale timer
        clearTimeout(scaleTimer);
        scaleTimer = setTimeout(() => {
          scaleLevel = 1;
          spinner.style.transform = 'scale(1)';
          spinner.classList.remove('pumping');
        }, 500);
        
        // Combo system
        clearTimeout(comboTimer);
        comboTimer = setTimeout(() => {
          clickCombo = 0;
          updateMultiplier();
          deactivateStrokeMode();
        }, 1000);
        
        // Activate STROKE MODE at 50+ combo
        if (clickCombo >= 50 && !strokeModeActive) {
          activateStrokeMode();
        } else if (clickCombo >= 50 && strokeModeActive) {
          // Keep extending STROKE MODE
          clearTimeout(strokeModeTimer);
          strokeModeTimer = setTimeout(() => {
            deactivateStrokeMode();
          }, 3000);
        }
        
        // Show combo at milestones
        if (clickCombo === 5) {
          showCombo('PUMP COMBO! üî•');
        } else if (clickCombo === 10) {
          showCombo('STROKE COMBO! üí•');
          document.body.classList.add('shake');
          setTimeout(() => document.body.classList.remove('shake'), 300);
        } else if (clickCombo === 20) {
          showCombo('MEGA STROKE! ‚ö°');
          document.body.classList.add('shake');
          setTimeout(() => document.body.classList.remove('shake'), 300);
        } else if (clickCombo === 30) {
          showCombo('COCK GODLIKE! üëë');
          document.body.classList.add('shake');
          setTimeout(() => document.body.classList.remove('shake'), 300);
        } else if (clickCombo === 50) {
          showCombo('üî• STROKE MODE ACTIVATED! üî•');
        }
        
        if (count % 10 === 0) {
          document.getElementById('flash').style.opacity = 1;
          setTimeout(() => { document.getElementById('flash').style.opacity = 0; }, 500);
        }
      }
    };
    
    function showCombo(text) {
      comboDisplay.textContent = text;
      comboDisplay.classList.add('show');
      setTimeout(() => {
        comboDisplay.classList.remove('show');
      }, 800);
    }
    
    window.onbeforeunload = () => clearInterval(mcapInterval);
  </script>
</body>
</html>
